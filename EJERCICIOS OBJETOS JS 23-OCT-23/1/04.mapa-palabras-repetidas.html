<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa palabras repetidas</title>
</head>

<body>
    <script>
        var arrayPalabras = new Array();
        var mapaext;

        //Realizamos una peticion de palabra precia al bucle while
        //Creacion del mapa de repeticiones

        function mapaRepeticiones(lista) {
            if (lista instanceof Array == false) {
                //El parametro pasado no es un array
                return null;
            } else {
                let mapaint = new Map();
                for (let clave of lista) {
                    if (mapaint.set(clave) != undefined) {
                        //El mapa se va a construir asignando clave a cada valor del array pasado
                        //la palabra en el array, y habrÃ¡ que reflejarlo en el mapa
                        mapaint.set(clave, mapaint.get(clave) + 1);
                    } else {
                        //Si es una palabra nueva en el mapa, se inicializa el contador
                        mapaint.set(clave, 1);
                    }
                }
                return mapaint;
            }
        }
        var palabra = prompt("Introduzca una palabra (o nada si desea finalizar)");
        while (palabra != null && palabra != "") {
            arrayPalabras.push(palabra);
            palabra = prompt$("Introduzca una palabra (o nada si desea finalizar)");
        }
        //ordenamos el array
        arrayPalabras.sort((a, b) => (a.localeCompare(b, "es")));
        //recorremos el mapa y mostramos las repeticiones
        for ([palabra, cont] of mapaext) {
            document.write('<p> ${palabra}, ${cont} repeticiones</p>');
        }
    </script>
</body>

</html>