<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creando una ventana nueva</title>
<script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=ZVmd2BUcpHEcUjS7LktECYgdye_9pKtoDxqZL3J_9yi-o7MyCZ9PxUj5YlB5F5vvgI_T1eEj_CDt2MtPPBsKlZLbAatd5DCnk0ItaRK6XMBWNorh_c58D8vLTwNZ9xb9-TWRZp1Bi0H4SIlJ-3X8kuH4Px0b37AmL65oP_S0YzQ57MNUwY631vsKZI-OdXIoKVtjbBMcVOBmU-g8jJC2TCqD1peaACVi8nGGnXcUtc1Zu53gLE1EKlPEBRnWYVvZs9OwR4OTnmZHU9xIaPuiwoo07WZMYcI6NQ4dUWwOMBpx_i9TA38db1CM4QFA-W_ZHz8GZuhMmED-W4zf_AsM84MjUgiRI45GLsvdxKt73z03Un0psOwaporrWYrLH4kRJqsiC_jGWz6rA_4Z9-wdcKhgKO5BndKWC7si_sCbq9UAuASTdoz3aN2Yn5CNSlbXJ4Pl7ovj6r_S0TRtfu-AC9uvvGwLCU57ehrqSOuNJPugnXRdsm7iAAA341OHEuHZYkNx0REZ7GTcyqdkSptZfojsX3JiAMBPpTGYjK1khFyzdHdgbYaPvLeIoUhDfOwRmuSIttB_va-XMOzePQMdqECjBHhT1uinhMjOHOvbPxlOF_RxvmBsjFuFswAEJI-6hJHu0btkikiScJvAxXqFeApQiusWSl4lO9ymGbiXJHK0UA9w6OTaSmQIaRhrhtU6j1ls-SLeJaQ5Ue8DwBYF3MHE8gYimyNzencOXWZDLitKjo5BPUN4o--No7bVkCMqWzNODs_38Wmd6q2R9ycNGFTiPFub4iwxfkw-tC3_xntToLugjdvs2oxp40joU7QIeyLI-lQt6sOYbo7p-biDtk-Y18tpMXDg63Bu1qEcx-5ynidyum99g9CLlufiHdMmAB3qry2qjWh2e8rIXh21_hg2-e38Psf1ODQStXKT_K2S1IXeS6XxmOVGLbhKVeyqLXEODiKVTiO7i5H05iYobwCR30LiWWqxzaIYUTLETtL0zRqwSdET4X4igeii96pBiUB_cfdXyltg5fAMRKODbZUPmlijmJNubnLmfBqI_3I3_RrvUGDZuSbv-haXyG6vVAEkQ4-hzk5SmgEw8hYqQx7tB0tZZo1G5Cwg32DHHp9bEcDlYQl0JqakDX0DTB83V47oH_7l3VXpBEraf1OUBYhCLWUHP1FLl3TDJjJDraPq8ccxSETrCmvkV7nLco5a7_0Af5mKH9b5pG91GIij9g" nonce="a5c480a474d1d086d5dd732fc1ee4f96" charset="UTF-8"></script><link rel="stylesheet" crossorigin="anonymous" href="https://gc.kis.v2.scr.kaspersky-labs.com/E3E8934C-235A-4B0E-825A-35A08381A191/abn/main.css?attr=aHR0cHM6Ly9tYWlsLWF0dGFjaG1lbnQuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2F0dGFjaG1lbnQvdS8wLz91aT0yJmlrPTI3NGIwOWYxNGQmYXR0aWQ9MC4xJnBlcm1tc2dpZD1tc2ctZjoxNzE5NzQ5ODY4MDgzNzU5MTc2JnRoPTE3ZGRjNzY0YjVhODQ4NDgmdmlldz1hdHQmZGlzcD1zYWZlJnJlYWxhdHRpZD1mX2t4ZndzdnNuMCZzYWRkYmF0PUFOR2pkSjluektNclBBaGdYODRLTDYxTXpHcmhOQjZNa2E3NU1rR1ZQdXJWcTVWdnRsSDZqbGY5R3BJems3Y2VFd0RqUDVEUm5KVVRueXYwRGlQWEhQdHlVLXlPb1hJZlMzYlp5cEt4MzM5djRKei1Rc2hLRHRWcVBYYjNwM0tzUGpxcDJaTVNfUkZNTmxGNVNjWnhnLVJwWVllaENnZDc2RVBrMUJ1RDEtclhQQ2N4WW8yUGFMZzJBaTZPaHB3OFg0cmhOWlU5aTlMOFpNYXpzc0trQ2hwdzRyMVMtWGxsdG9HZGt6YS1ackJudElxd1JBTzBWd0IyR3N0VjcySzRFZ0ppOUtvaDBXaDZhZmZnNGcxS19lYzhzNjdxeEI0Wmk0SFNqMi1oREd5alBOVF91UUZ4YlF3QXRBQ1F0eU42N1dienhDQ1FiTUdlRWpIdUtZMHZFeFlBWWc1blNwaXFFb3hac1dGc0FLWHhnd0tUQ2tfaHNkOUlqMElNNUxIaF9BM1NGOWVuNUU5TlNwc2l6MW01NUV5YlhfU1Bjd25aSWlkUnJRMy1VeVVPYXZGOEgxUVVOa1pPX0V0bzJ1dFdHbV9wMEVOU0VKWFBlMzJtYU1XU1l1bnFIVmZOWUpFak1JdThOTTJubXc1MFB3ek1JdGVucEhMNDdvUkt1dTEyMWNxWF9QNlVGUG82TlBnTmJPc2lUN2JRd05wbm55c2VKTHEwQkRyUVExNVFmRGx4OFZpS0JOdEVFRE43OEdTT3M4YURWNmtDNGNWSWFDdkZjM3JxUUotaGpsMGJoRDc4dm9nRmNlOUJZblNWLTk0VnlXQTJVc2tNY1J1aE9mVzlRRlluckcwTE5vcGMtNTVVM0xWZ182VmNJdF9Wdmx6ajVRV2NWR0g1SlR5S1Q0ZFNVNUoyNExza1k4NzhtcVE"/></head>
<body>
    <p align="center"><b>CREA UN NUEVO DOCUMENTO HTML</b></p>
    <center> 
    <table border="0" cellpadding="0" cellspacing="0" height="108">
        <tr> 
            <td height="87" align="center"> 
            <form name="FORMULARIO" > 
                <input type="button" value="Documento con colores" name="B1" onclick="mostrar(1); pintapagina(1);"> 
                <input type="button" value="Valores por defecto" name="B2" onclick= "mostrar(0); pintapagina(0);"><br> 
                <textarea rows="4" name="area" cols="20" READONLY WRAP>Haz clic en uno de los botones</textarea> 
            </form>
            </td>
        </tr> 
    </table> 
    </center> 

    <script>

    var textoHTML = "";

    textoHTML += "<head>";
    textoHTML += "<style> a:visited {color: #FFC0CB} </style>";
    textoHTML += "<title>PÁGINA QUE CAMBIA DE COLORES<\/title>";
    textoHTML += "<\/head>";
    textoHTML += "<body>";
    textoHTML += "<p>ESTA ES MI PÁGINA WEB<\/><br><br>";
    textoHTML += "<a href='HTML-solo-Control-Varios-Forms.html' visited>Visita otro ejemplo<\/a>";
    textoHTML += "<\/body>";    

    function mostrar(valor){
        if(valor == 1){
            document.getElementsByTagName("textarea")[0].value = "Fondo: Amarillo, Color Texto: Azul, Link: Rojo, Links visitados: Rosa";

        }else{
            document.getElementsByTagName("textarea")[0].value = "Fondo: Blanco, Color Texto: Negro, Link: Azul, Links visitados: Rojo";
        }
    }

    function pintapagina(valor){  
        if(valor == 1){
            var x=window.open();            
          
            x.document.write(textoHTML);

            x.document.body.style.background="yellow";
            x.document.body.style.color = "blue";

            for(let i = 0; i<x.document.links.length; i++){
                x.document.links[i].style.color = "red";
            }
            /*Se ha añadido en cabecera el style
            var visitados = x.document.querySelectorAll('a:visited');
            alert(visitados.length);
            for(let i = 0; i<visitados.length; i++){
                alert(visitados.length);
                visitados[i].style.color = "#FFC0CB";
               
            }*/

        }else{
            var y=window.open();
            
            y.document.write(textoHTML);

            y.document.body.style.background="white";
            y.document.body.style.color = "black";

            for(let i = 0; i<y.document.links.length; i++){
                y.document.links[i].style.color = "blue";
            }

            var visitados = y.document.querySelectorAll('a:visited');

            for(let i = 0; i<visitados.length; i++){
                visitados[i].style.color = "red";
            }
        }
    }

    </script>
    
    
</body>
</html>